/**
 * @link https://github.com/samdark/the-modal
 * @version 0.0.14
 */
!function(e,n,t,o){"use strict";function a(){return"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/MSIE\s+\d+\.\d+/)||navigator.userAgent.match(/Trident\/\d+\.\d+/)}function r(n,t){var o=e("body"),r=o.outerWidth(!0);o.addClass(n.lockClass);var l=o.outerWidth(!0)-r;if(a()&&(u=o.css("margin-top"),o.css("margin-top",0)),0!=l){var s=e("html, body");s.each(function(){var n=e(this);d[n.prop("tagName").toLowerCase()]=parseInt(n.css("margin-right"))}),e("html").css("margin-right",d.html+l),t.css("left",0-l)}}function l(n){a()&&e("body").css("margin-top",u);var t=e("body"),o=t.outerWidth(!0);t.removeClass(n.lockClass);var r=t.outerWidth(!0)-o;0!=r&&e("html, body").each(function(){var n=e(this);n.css("margin-right",d[n.prop("tagName").toLowerCase()])})}function s(o,a){var s=a;return o.length?o.each(function(){e(this).data(i+".options",s)}):e.extend(c,s),e(n).bind("keydown",function(t){if(!t.ctrlKey||65!=t.keyCode)return!0;if(e("input:focus, textarea:focus").length>0)return!0;var o=new e.Event("onSelectAll");return o.parentEvent=t,e(n).trigger(o),!0}),o.bind("keydown",function(n){var t=e(":focusable",e(this));t.filter(":last").is(":focus")&&9==(n.which||n.keyCode)&&(n.preventDefault(),t.filter(":first").focus())}),{open:function(a){var l=o.get(0),s=e.extend({},c,e(l).data(i+".options"),a);e("."+s.overlayClass).length&&e.modal().close();var d=e("<div/>").addClass(s.overlayClass).prependTo("body");if(d.data(i+".options",s),r(s,d),l){var u=null;s.cloning?u=e(l).clone(!0).appendTo(d).show():(d.data(i+".el",l),e(l).data(i+".parent",e(l).parent()),u=e(l).appendTo(d).show())}s.closeOnEsc&&e(t).bind("keyup."+i,function(n){27===n.keyCode&&e.modal().close(s)}),s.closeOnOverlayClick&&e("."+s.overlayClass).on("click."+i,function(n){n.target.className==s.overlayClass&&e.modal().close(s)}),e(t).bind("touchmove."+i,function(n){e(n).parents("."+s.overlayClass)||n.preventDefault()}),l&&e(n).bind("onSelectAll",function(e){e.parentEvent.preventDefault();var o=null,a=null,r=u.get(0);t.body.createTextRange?(o=t.body.createTextRange(),o.moveToElementText(r),o.select()):n.getSelection&&(a=n.getSelection(),o=t.createRange(),o.selectNodeContents(r),a.removeAllRanges(),a.addRange(o))}),s.onOpen&&s.onOpen(d,s)},close:function(a){var r=o.get(0),s=e.extend({},c,e(r).data(i+".options"),a),d=e("."+s.overlayClass);e.isFunction(s.onBeforeClose)&&s.onBeforeClose(d,s)===!1||(s.cloning||(r||(r=d.data(i+".el")),e(r).hide().appendTo(e(r).data(i+".parent"))),d.remove(),l(s),s.closeOnEsc&&e(t).unbind("keyup."+i),e(n).unbind("onSelectAll"),s.onClose&&s.onClose(d,s))}}}e.extend(e.expr[":"],{focusable:function(n){function t(n){return e.expr.filters.visible(n)&&!e(n).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var o,a,r,l=n.nodeName.toLowerCase(),s=!isNaN(e.attr(n,"tabindex"));if("area"===l)return o=n.parentNode,a=o.name,n.href&&a&&"map"===o.nodeName.toLowerCase()?(r=e("img[usemap=#"+a+"]")[0],!!r&&t(r)):!1;var i=s;return/input|select|textarea|button|object/.test(l)?i=!n.disabled:"a"===l&&(i=n.href||s),i&&t(n)}});var i="the-modal",c={lockClass:"themodal-lock",overlayClass:"themodal-overlay",closeOnEsc:!0,closeOnOverlayClick:!0,onBeforeClose:null,onClose:null,onOpen:null,cloning:!0},d={},u=0;e.modal=function(n){return s(e(),n)},e.fn.modal=function(e){return s(this,e)}}(jQuery,window,document);